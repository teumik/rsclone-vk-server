# RS VK Clone

## Kanban

[Link](https://github.com/users/teumik/projects/2/views/1)

## RACI

[Link](https://docs.google.com/spreadsheets/d/1aZIVKJMn5Q7ySk05yLxusbvMgIBeKla4Oj8kd0CexpM/edit#gid=0)

# Фичи

1. Проверка взаимосвязи между двумя пользователями системы, тем самым выдавая необходимую информацию с учетом прав доступа
2. Сохранение пароля в базе данных преобразованного хеш-функцией
3. Информация о пользователе не хранится на стороне сервера
4. Короткое время жизни токенов с целью обеспечения большей безопасности данных пользователя и сокращение рисков связанных с доступом к сервису  в случае получения контроля над учетными данными третьими лицами
5. Возможность обновления токенов на основе токена обновления
6. Авторизация пользователя на основе токена доступа
7. Валидация пользователя без учета дополнительных данных со стороны клиента, за счет использования для авторизации и идентификации токен обновления

# Сложности

1. Команда
    * актуализирование информации на стороне сервера и обеспечение своевременного оповещения об изменения
    * меняющее поведение сервера порождает дополнительную нагрузку на разработку клиентской части приложения
    * корректирование отправляемых данных от сервера с учетом пожеланий разработки клиентской части
    * определение предполагаемых сроков, которые будут затрачены на разработку определенной функциональности приложения
    * изменение сроков и приоритетов поставленных задач
    * затраты на понимание необходимой функциональности эмпирическим путем
    * недостаточный опыт и осведомленность о способах решения конкретных задач
    * координирование процесса разработки между серверной и клиентской стороной
2. Сервер
    * различные URL серверного и клиентского приложения
    * сохранение файлов cookie
    * снижение безопасности из-за настроек файлов cookie
3. Авторизация
    * высокая частота обращений к серверу за предоставлением новой пары токенов по истечению жизненного цикла токена доступа
4. Поиск
    * работа со вложенными документами
    * минимизирование времени поиска и обработки данных для лучшего пользовательского опыта
    * затраты на определение взаимоотношений между аккаунтами пользователей
5. Информация о пользователе
    * способ передачи изображений
    * кэширование изображений
    * объем передаваемых данных с учетом большого количества изображений пользователей
6. Общее
    * особенности по добавлению новой функциональности к уже созданной
7. Веб-сокеты
    * интеграция в уже реализованную и функционирующую систему
    * отладка связей и зависимостей
    * определение списков получателей
    * хранение информации об активных пользователях и связей между пользователями
    * дублирование потока данных классического соединения

# Общее

1. Собрание
    * знакомство команды, представление каждого участника
    * выявление сильных сторон участников команды
    * выявление предпочтений по направлению разработки каждого участника
    * обсуждение и выбор направления темы проекта
2. Гэп
    * поиск и наброски тем проекта
3. Собрание
    * обсуждение и выбор темы проекта
    * обсуждение стека технологий и применяемых решений
4. Гэп
    * изучение разработки по выбранной тематике
5. Собрание
    * выявление первоочередных задач
    * обсуждение их реализации
    * обсуждение плана разработки
6. Гэп
    * составление плана разработки
7. Собрание
    * обсуждение и утверждение плана разработки

# Разработка

## Подготовка

1. Понимание работы серверной части
    * изучение подходов и практик
    * выбор базы данных для работы с данными
    * выбор необходимых библиотек и фреймворков
    * запуск сервера
2. Мидлвары
    * допуск к сервису с учетом CORS политики


## Первый этап



1. Регистрация
    * валидация полей ввода
    * создание пользователя
    * создание ссылки активации
    * хэширование пароля пользователя
    * отправка ссылки активации на указанный почтовый адрес
2. Активация
    * разрешение доступа к сервису на основе подтвержденного аккаунта
3. Вход
    * идентификация - пользователь существует в базе
    * аутентификация - введенный пароль корректный
    * авторизация - разрешение на доступ к сервису на основе валидности введенной информации
    * создание и отправка токенов доступа и обновления
4. Обновление
    * валидация токена обновления
    * валидация пользователя на основе данных токена
    * создание и отправка токенов доступа и обновления
5. Выход
    * удаление токена из базы данных
    * очистка файлов cookie на стороне клиента
6. Ошибки
    * создание кастомизированных ошибок
7. Мидлвары
    * проверка активации аккаунта
    * проверка наличия токенов доступа и обновления
    * валидность токенов доступа и обновления
    * обработчик ошибок для отправки информации об ошибке клиенту
    * логирование ошибок на стороне сервера для определения причин сбоев


## Второй этап



1. Пользователи сервиса
    * получение всех пользователей зарегистрированных в системе
    * получение конкретного пользователя с учетом параметров запроса и статуса взаимоотношений между пользователями
2. Взаимодействие пользователя с пользователями
    * добавление в друзья
    * согласие на запрос в друзья
    * удаление запроса в друзья
    * получение всех друзей конкретного пользователя
    * информация о отправленных и полученных заявках в друзья


## Третий этап



1. Настройки
    * сохранение и получение настроек аккаунта
2. Информация о пользователе
    * валидация полей информации
    * сохранение и получение информации о пользователе
    * возможность установить аватар пользователя посредством передачи изображения в формате Data URL
    * настройка размера передаваемых файлов
    * валидация передаваемых форматов изображений
    * отображение информации о пользователе с учетом статуса взаимоотношений между пользователями


## Четвертый этап



1. Поиск
    * поиск пользователей системы с учетом нескольких полей в базе данных
    * определение взаимосвязи между пользователями на стороне сервера


## Пятый этап



1. Пост
    * добавление, редактирование, удаление поста
    * авторизация выполнения данных действий
    * получение конкретного поста
    * получение постов конкретного пользователя
    * получение всех постов аналогично системы ленты
2. Комментарии
    * добавление, редактирование, удаление комментариев
    * авторизация выполнения данных действий
3. Лайки
    * добавление и удаление лайков

## Шестой этап

1. Чат
    * создание, удаление и переименование чата
    * возможность выбора индивидуального и группового чата
    * получение конкретного чата
    * получение всех чатов пользователя
